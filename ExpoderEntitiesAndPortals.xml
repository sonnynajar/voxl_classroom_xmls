<xml xmlns="http://www.w3.org/1999/xhtml"><block type="procedures_defnoreturn" x="-756" y="-3580"><field name="NAME">makeThenDestroy</field><statement name="STACK"><block type="variables_set"><field name="VAR">item</field><value name="VALUE"><block type="spawn_entity" collapsed="true"><value name="ENTITY"><block type="entity_asset"><field name="name">Cow</field><field name="id">cow</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Basic Minecraft Stuff.ts</field></block></value><value name="LOCATION"><block type="get_location"><value name="THING"><block type="me"></block></value></block></value></block></value><next><block type="timeout"><value name="FUNCTION"><block type="anon_func"><statement name="CODE"><block type="variables_set"><field name="VAR">lit</field><value name="VALUE"><block type="spawn_entity"><value name="ENTITY"><block type="entity_asset"><field name="name">explosive_burst</field><field name="id">explosive_burst</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Explosions.ts</field></block></value><value name="LOCATION"><block type="get_location"><value name="THING"><block type="variables_get"><field name="VAR">item</field></block></value></block></value></block></value><next><block type="destroy_entity"><value name="entity"><block type="variables_get"><field name="VAR">item</field></block></value></block></next></block></statement></block></value><value name="MILLIS"><block type="math_number"><field name="NUM">3000</field></block></value><next><block type="timeout"><value name="FUNCTION"><block type="anon_func"><statement name="CODE"><block type="destroy_all_entities"></block></statement></block></value><value name="MILLIS"><block type="math_number"><field name="NUM">6000</field></block></value></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" x="-847" y="-2936"><field name="NAME">thaOtherOne</field><statement name="STACK"><block type="send"><value name="MESSAGE"><block type="text"><field name="TEXT"></field></block></value><value name="PLAYER"><block type="me"></block></value></block></statement></block><block type="procedures_defnoreturn" x="-401" y="-2911"><field name="NAME">main</field><statement name="STACK"><block type="procedures_callnoreturn" disabled="true"><mutation name="thaOtherOne"></mutation><next><block type="send" disabled="true"><value name="MESSAGE"><block type="text"><field name="TEXT">yyayay</field></block></value><value name="PLAYER"><block type="me"></block></value><next><block type="procedures_callnoreturn" disabled="true"><mutation name="doPortals"></mutation><next><block type="send" disabled="true"><value name="MESSAGE"><block type="text"><field name="TEXT">11233</field></block></value><value name="PLAYER"><block type="me"></block></value><next><block type="procedures_callnoreturn"><mutation name="makeThenDestroy"></mutation></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" x="-1621" y="-2845"><field name="NAME">doPortals</field><statement name="STACK"><block type="variables_set"><field name="VAR">drone</field><value name="VALUE"><block type="new_drone"></block></value><next><block type="variables_set"><field name="VAR">portal_locations</field><value name="VALUE"><block type="lists_create_empty"></block></value><next><block type="variables_set"><field name="VAR">recently_tp</field><value name="VALUE"><block type="logic_boolean"><field name="BOOL">FALSE</field></block></value><next><block type="variables_set"><field name="VAR">not_teleportable</field><value name="VALUE"><block type="lists_create_with"><mutation items="2"></mutation><value name="ADD0"><block type="entity_asset" collapsed="true"><field name="name">Blue Lightning Ball</field><field name="id">blue_lightning_ball</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Electricity Balls.ts</field></block></value><value name="ADD1"><block type="entity_asset" collapsed="true"><field name="name">lightning</field><field name="id">lightning</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Basic Minecraft Stuff.ts</field></block></value></block></value><next><block type="procedures_callnoreturn"><mutation name="portalNetwork"></mutation><next><block type="event"><value name="FUNCTION"><block type="functionblock"><field name="func_name">teleport_on_move</field></block></value><value name="EVENT"><block type="new_event"><field name="NAME">player.PlayerMoveEvent</field></block></value><next><block type="event"><value name="FUNCTION"><block type="functionblock"><field name="func_name">teleport_on_move</field></block></value><value name="EVENT"><block type="new_event"><field name="NAME">entity.EntitySpawnEvent</field></block></value><next><block type="variables_set"><field name="VAR">frank</field><value name="VALUE"><block type="newnpc"><value name="type"><block type="entity_asset"><field name="name">Red Guy</field><field name="id">red_guy</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Cube Dudes.ts</field></block></value><value name="named"><block type="text"><field name="TEXT">franky_boy</field></block></value><value name="loc"><block type="get_location"><value name="THING"><block type="me"></block></value></block></value></block></value><next><block type="npc_navigate_entity"><value name="npc"><block type="variables_get"><field name="VAR">frank</field></block></value><value name="entity"><block type="me"></block></value><value name="aggro"><block type="logic_boolean"><field name="BOOL">TRUE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" x="-1488" y="-2027"><mutation><arg name="e"></arg></mutation><field name="NAME">teleport_on_move</field><statement name="STACK"><block type="controls_if"><value name="IF0"><block type="variables_get"><field name="VAR">recently_tp</field></block></value><statement name="DO0"><block type="js_noret"><field name="func_name">return</field></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">GT</field><value name="A"><block type="js"><field name="func_name">not_teleportable.indexOf(e.entity_type)</field></block></value><value name="B"><block type="math_number"><field name="NUM">-1</field></block></value></block></value><statement name="DO0"><block type="js_noret"><field name="func_name">return</field></block></statement><next><block type="js_noret"><field name="func_name">console.log("entity moved: ", e)</field><next><block type="local_var"><field name="VARIABLE">ent</field><value name="NAME"><block type="js"><field name="func_name">e.entity</field></block></value><next><block type="controls_forEach"><field name="VAR">i</field><value name="LIST"><block type="variables_get"><field name="VAR">portal_locations</field></block></value><statement name="DO"><block type="local_var"><field name="VARIABLE">ent_dist</field><value name="NAME"><block type="procedures_callreturn"><mutation name="distBetween"><arg name="l1"></arg><arg name="l2"></arg></mutation><value name="ARG0"><block type="js"><field name="func_name">ent.getLocation()</field></block></value><value name="ARG1"><block type="variables_get"><field name="VAR">i</field></block></value></block></value><next><block type="controls_if"><value name="IF0"><block type="logic_operation"><field name="OP">AND</field><value name="A"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="text"><field name="TEXT">red_guy</field></block></value><value name="B"><block type="js"><field name="func_name">e.entity_type</field></block></value></block></value><value name="B"><block type="logic_compare"><field name="OP">LT</field><value name="A"><block type="variables_get"><field name="VAR">ent_dist</field></block></value><value name="B"><block type="math_number"><field name="NUM">5</field></block></value></block></value></block></value><statement name="DO0"><block type="js_noret"><field name="func_name">console.log("distant: : ", ent_dist)</field></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">LT</field><value name="A"><block type="variables_get"><field name="VAR">ent_dist</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">recently_tp</field><value name="VALUE"><block type="logic_boolean"><field name="BOOL">TRUE</field></block></value><next><block type="timeout"><value name="FUNCTION"><block type="js"><field name="func_name">resetRecentTp</field></block></value><value name="MILLIS"><block type="math_number"><field name="NUM">1500</field></block></value><next><block type="local_var"><field name="VARIABLE">possibilities</field><value name="NAME"><block type="procedures_callreturn"><mutation name="portalLocationsLess"><arg name="loc"></arg></mutation><value name="ARG0"><block type="variables_get"><field name="VAR">i</field></block></value></block></value><next><block type="local_var"><field name="VARIABLE">dest</field><value name="NAME"><block type="lists_getIndex"><mutation statement="false" at="false"></mutation><field name="MODE">GET</field><field name="WHERE">RANDOM</field><value name="VALUE"><block type="variables_get"><field name="VAR">possibilities</field></block></value></block></value><next><block type="variables_set"><field name="VAR">dumy</field><value name="VALUE"><block type="spawn_entity"><value name="ENTITY"><block type="entity_asset" collapsed="true"><field name="name">lightning</field><field name="id">lightning</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Basic Minecraft Stuff.ts</field></block></value><value name="LOCATION"><block type="get_location"><value name="THING"><block type="variables_get"><field name="VAR">ent</field></block></value></block></value></block></value><next><block type="variables_set"><field name="VAR">dumy</field><value name="VALUE"><block type="spawn_entity"><value name="ENTITY"><block type="entity_asset" collapsed="true"><field name="name">lightning</field><field name="id">lightning</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Basic Minecraft Stuff.ts</field></block></value><value name="LOCATION"><block type="variables_get"><field name="VAR">dest</field></block></value></block></value><next><block type="set_location"><value name="ENTITY"><block type="variables_get"><field name="VAR">ent</field></block></value><value name="LOCATION"><block type="variables_get"><field name="VAR">dest</field></block></value><next><block type="js_noret"><field name="func_name">return</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" x="-640" y="-2062"><field name="NAME">portalNetwork</field><statement name="STACK"><block type="lists_setIndex"><mutation at="false"></mutation><field name="MODE">INSERT</field><field name="WHERE">LAST</field><value name="LIST"><block type="variables_get"><field name="VAR">portal_locations</field></block></value><value name="TO"><block type="procedures_callreturn"><mutation name="portal"><arg name="d"></arg></mutation><value name="ARG0"><block type="variables_get"><field name="VAR">drone</field></block></value></block></value><next><block type="drone_move"><field name="DRONE">drone</field><field name="DIRECTION">up</field><field name="DISTANCE">20</field><next><block type="procedures_callnoreturn"><mutation name="platform"><arg name="d"></arg></mutation><value name="ARG0"><block type="variables_get"><field name="VAR">drone</field></block></value><next><block type="lists_setIndex"><mutation at="false"></mutation><field name="MODE">INSERT</field><field name="WHERE">LAST</field><value name="LIST"><block type="variables_get"><field name="VAR">portal_locations</field></block></value><value name="TO"><block type="procedures_callreturn"><mutation name="portal"><arg name="d"></arg></mutation><value name="ARG0"><block type="variables_get"><field name="VAR">drone</field></block></value></block></value><next><block type="drone_move"><field name="DRONE">drone</field><field name="DIRECTION">fwd</field><field name="DISTANCE">20</field><next><block type="drone_move"><field name="DRONE">drone</field><field name="DIRECTION">down</field><field name="DISTANCE">5</field><next><block type="procedures_callnoreturn"><mutation name="platform"><arg name="d"></arg></mutation><value name="ARG0"><block type="variables_get"><field name="VAR">drone</field></block></value><next><block type="lists_setIndex"><mutation at="false"></mutation><field name="MODE">INSERT</field><field name="WHERE">LAST</field><value name="LIST"><block type="variables_get"><field name="VAR">portal_locations</field></block></value><value name="TO"><block type="procedures_callreturn"><mutation name="portal"><arg name="d"></arg></mutation><value name="ARG0"><block type="variables_get"><field name="VAR">drone</field></block></value></block></value><next><block type="drone_move"><field name="DRONE">drone</field><field name="DIRECTION">right</field><field name="DISTANCE">20</field><next><block type="drone_move"><field name="DRONE">drone</field><field name="DIRECTION">down</field><field name="DISTANCE">5</field><next><block type="procedures_callnoreturn"><mutation name="platform"><arg name="d"></arg></mutation><value name="ARG0"><block type="variables_get"><field name="VAR">drone</field></block></value><next><block type="lists_setIndex"><mutation at="false"></mutation><field name="MODE">INSERT</field><field name="WHERE">LAST</field><value name="LIST"><block type="variables_get"><field name="VAR">portal_locations</field></block></value><value name="TO"><block type="procedures_callreturn"><mutation name="portal"><arg name="d"></arg></mutation><value name="ARG0"><block type="variables_get"><field name="VAR">drone</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" x="422" y="-1930"><mutation><arg name="d"></arg></mutation><field name="NAME">platform</field><statement name="STACK"><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">back</field><field name="DISTANCE">5</field><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">left</field><field name="DISTANCE">5</field><next><block type="controls_repeat_ext"><value name="TIMES"><block type="math_number"><field name="NUM">10</field></block></value><statement name="DO"><block type="controls_repeat_ext"><value name="TIMES"><block type="math_number"><field name="NUM">10</field></block></value><statement name="DO"><block type="block_place"><field name="DRONE">d</field><value name="MATERIAL"><block type="block_asset" collapsed="true"><field name="name">Obsidian</field><field name="id">obsidian</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Basic Minecraft Stuff.ts</field></block></value><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">right</field><field name="DISTANCE">1</field></block></next></block></statement><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">fwd</field><field name="DISTANCE">1</field><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">left</field><field name="DISTANCE">10</field></block></next></block></next></block></statement><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">fwd</field><field name="DISTANCE">5</field><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">right</field><field name="DISTANCE">5</field><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">back</field><field name="DISTANCE">10</field></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" x="-336" y="-1763"><field name="NAME">twinPortals</field><statement name="STACK"><block type="lists_setIndex"><mutation at="false"></mutation><field name="MODE">INSERT</field><field name="WHERE">LAST</field><value name="LIST"><block type="variables_get"><field name="VAR">portal_locations</field></block></value><value name="TO"><block type="procedures_callreturn"><mutation name="portal"><arg name="d"></arg></mutation><value name="ARG0"><block type="variables_get"><field name="VAR">drone</field></block></value></block></value><next><block type="drone_move"><field name="DRONE">drone</field><field name="DIRECTION">fwd</field><field name="DISTANCE">10</field><next><block type="variables_set"><field name="VAR">test_ent</field><value name="VALUE"><block type="newnpc"><value name="type"><block type="entity_asset" collapsed="true"><field name="name">Creeper</field><field name="id">creeper</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Basic Minecraft Stuff.ts</field></block></value><value name="named"><block type="text"><field name="TEXT">Henry</field></block></value><value name="loc"><block type="get_location"><value name="THING"><block type="variables_get"><field name="VAR">drone</field></block></value></block></value></block></value><next><block type="npc_navigate_entity"><value name="npc"><block type="variables_get"><field name="VAR">test_ent</field></block></value><value name="entity"><block type="me"></block></value><value name="aggro"><block type="logic_boolean"><field name="BOOL">TRUE</field></block></value><next><block type="drone_move"><field name="DRONE">drone</field><field name="DIRECTION">fwd</field><field name="DISTANCE">10</field><next><block type="lists_setIndex"><mutation at="false"></mutation><field name="MODE">INSERT</field><field name="WHERE">LAST</field><value name="LIST"><block type="variables_get"><field name="VAR">portal_locations</field></block></value><value name="TO"><block type="procedures_callreturn"><mutation name="portal"><arg name="d"></arg></mutation><value name="ARG0"><block type="variables_get"><field name="VAR">drone</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defreturn" x="-102" y="-1110"><mutation><arg name="d"></arg></mutation><field name="NAME">portal</field><statement name="STACK"><block type="controls_repeat_ext"><value name="TIMES"><block type="math_number"><field name="NUM">4</field></block></value><statement name="DO"><block type="block_place"><field name="DRONE">d</field><value name="MATERIAL"><block type="block_asset" collapsed="true"><field name="name">Bedrock</field><field name="id">bedrock</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Basic Minecraft Stuff.ts</field></block></value><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">up</field><field name="DISTANCE">1</field></block></next></block></statement><next><block type="controls_repeat_ext"><value name="TIMES"><block type="math_number"><field name="NUM">4</field></block></value><statement name="DO"><block type="block_place"><field name="DRONE">d</field><value name="MATERIAL"><block type="block_asset" collapsed="true"><field name="name">Bedrock</field><field name="id">bedrock</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Basic Minecraft Stuff.ts</field></block></value><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">right</field><field name="DISTANCE">1</field></block></next></block></statement><next><block type="controls_repeat_ext"><value name="TIMES"><block type="math_number"><field name="NUM">4</field></block></value><statement name="DO"><block type="block_place"><field name="DRONE">d</field><value name="MATERIAL"><block type="block_asset" collapsed="true"><field name="name">Bedrock</field><field name="id">bedrock</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Basic Minecraft Stuff.ts</field></block></value><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">down</field><field name="DISTANCE">1</field></block></next></block></statement><next><block type="controls_repeat_ext"><value name="TIMES"><block type="math_number"><field name="NUM">4</field></block></value><statement name="DO"><block type="block_place"><field name="DRONE">d</field><value name="MATERIAL"><block type="block_asset" collapsed="true"><field name="name">Bedrock</field><field name="id">bedrock</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Basic Minecraft Stuff.ts</field></block></value><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">left</field><field name="DISTANCE">1</field></block></next></block></statement><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">right</field><field name="DISTANCE">2</field><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">up</field><field name="DISTANCE">2</field><next><block type="local_var"><field name="VARIABLE">particle_spawner</field><value name="NAME"><block type="new_drone"></block></value><next><block type="set_location"><value name="ENTITY"><block type="variables_get"><field name="VAR">particle_spawner</field></block></value><value name="LOCATION"><block type="get_location"><value name="THING"><block type="variables_get"><field name="VAR">d</field></block></value></block></value><next><block type="local_var"><field name="VARIABLE">ret</field><value name="NAME"><block type="get_location"><value name="THING"><block type="variables_get"><field name="VAR">d</field></block></value></block></value><next><block type="mob"><field name="DRONE">d</field><value name="NAME"><block type="entity_asset" collapsed="true"><field name="name">Blue Lightning Ball</field><field name="id">blue_lightning_ball</field><field name="gist">https://api.github.com/gists/a125fa135aa83e2ce402f19af0bdaf79</field><field name="file">Electricity Balls.ts</field></block></value><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">left</field><field name="DISTANCE">2</field><next><block type="drone_move"><field name="DRONE">d</field><field name="DIRECTION">down</field><field name="DISTANCE">2</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><value name="RETURN"><block type="variables_get"><field name="VAR">ret</field></block></value></block><block type="procedures_defreturn" x="-689" y="-1058"><mutation><arg name="loc"></arg></mutation><field name="NAME">portalLocationsLess</field><statement name="STACK"><block type="js_noret"><field name="func_name">console.log("ALLL_LOCS: ", portal_locations)</field><next><block type="variables_set"><field name="VAR">ret</field><value name="VALUE"><block type="js"><field name="func_name">portal_locations.slice()</field></block></value><next><block type="js_noret"><field name="func_name">console.log("ret: ", ret)</field><next><block type="variables_set"><field name="VAR">ind</field><value name="VALUE"><block type="js"><field name="func_name">ret.indexOf(loc)</field></block></value><next><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">GT</field><value name="A"><block type="variables_get"><field name="VAR">ind</field></block></value><value name="B"><block type="math_number"><field name="NUM">-1</field></block></value></block></value><statement name="DO0"><block type="js_noret"><field name="func_name">ret.splice(ind, 1)</field></block></statement></block></next></block></next></block></next></block></next></block></statement><value name="RETURN"><block type="variables_get"><field name="VAR">ret</field></block></value></block><block type="procedures_defnoreturn" x="-1022" y="-928"><field name="NAME">resetRecentTp</field><statement name="STACK"><block type="js_noret"><field name="func_name">console.log("TP READY")</field><next><block type="variables_set"><field name="VAR">recently_tp</field><value name="VALUE"><block type="logic_boolean"><field name="BOOL">FALSE</field></block></value></block></next></block></statement></block><block type="procedures_defreturn" x="-601" y="-718"><mutation><arg name="l1"></arg><arg name="l2"></arg></mutation><field name="NAME">distBetween</field><value name="RETURN"><block type="functionblock"><field name="func_name">l1.distanceTo(l2)</field></block></value></block></xml>